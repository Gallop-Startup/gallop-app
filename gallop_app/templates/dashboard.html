{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gallop</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <!-- Include external JS/CSS as needed -->
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="{% static 'js/radarChart.js' %}"></script>
  <script src="{% static 'js/radarChartD3Implementation.js' %}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
  <script src="{% static 'js/membersProfile.js' %}"></script>
  <script src="{% static 'js/congress_map.js' %}"></script>
  <script src="{% static 'js/radarChart.js' %}"></script>
  <script src="{% static 'js/ideologyChart.js' %}"></script>
  <script src="{% static 'js/tabs.js' %}"></script>
</head>
<body>
  <!-- Header with video -->
  <header class="main-header" style="text-align: center;">
    <video autoplay loop muted playsinline width="850" height="150" style="display: block; margin: 0 auto;">
      <source src="{% static 'videos/Gallop_MVP_Header.mp4' %}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </header>

  <!-- Existing Dashboard Container: Two rows, two columns -->
  <div class="dashboard-container">
    <!-- Top Row -->
    <div class="dashboard-panel" id="map-panel">
      <h2>Map</h2>
      <div id="map-container">
        <div id="plotly-map"></div>
        <div id="map-buttons">
          <button id="backToNationalView" class="back-button" onclick="resetView()" style="display: none;">&larr; Back to National View</button>
          <button id="backToStateView" class="back-button" onclick="backToStateView()" style="display: none;">&larr; Back to State View</button>
        </div>
      </div>
    </div>
    <div class="dashboard-panel" id="members-panel">
      <h2>Members</h2>
      <div id="members-container">
        <!-- Members list/selector that remains on the top right -->
        <div id="members-content">
          <p>Select a state from the map to view member information.</p>
        </div>
        <div id="sidebar-content">
          <div id="member-details"></div>
        </div>
      </div>
    </div>

    <!-- Bottom Row -->
    <div class="dashboard-panel" id="radar-chart-panel">
      <h2>Radar Chart</h2>
      <div id="radar-chart-container">
        <!-- Radar chart controls and chart rendering -->
        <div id="radar-controls">
          <label for="radar-member-select">Select a Member:</label>
          <select id="radar-member-select">
            <option value="">-- Select a Member --</option>
          </select>
          <div class="toggle-controls">
            <label>
              <input type="radio" name="proportion-toggle" value="self" checked>
              Self Proportion
            </label>
            <label>
              <input type="radio" name="proportion-toggle" value="across_all">
              Across All Proportion
            </label>
          </div>
        </div>
        <div id="radar-chart"></div>
      </div>
    </div>
    <div class="dashboard-panel" id="ideology-chart-panel">
      <h2>Ideology Chart</h2>
      <div id="ideology-chart-container">
        <label for="topic-select">Select Topic:</label>
        <select id="topic-select">
          <option value="">-- Select a Topic --</option>
        </select>
        <div id="ideology-chart"></div>
      </div>
    </div>
  </div>

  <!-- New Additional Dashboard Container with 4 More Panels (2 rows x 2 columns) -->
  <div class="dashboard-container additional-panels">
    <!-- Row 1 -->
    <div class="dashboard-panel" id="additional-panel-1">
      <h2>New Visualization 1</h2>
      <div id="new-vis-container-1">
        <!-- Content for new visualization 1 goes here -->
      </div>
    </div>
    <div class="dashboard-panel" id="additional-panel-2">
      <h2>New Visualization 2</h2>
      <div id="new-vis-container-2">
        <!-- Content for new visualization 2 goes here -->
      </div>
    </div>
    <!-- Row 2 -->
    <div class="dashboard-panel" id="additional-panel-3">
      <h2>New Visualization 3</h2>
      <div id="new-vis-container-3">
        <!-- Content for new visualization 3 goes here -->
      </div>
    </div>
    <div class="dashboard-panel" id="additional-panel-4">
      <h2>New Visualization 4</h2>
      <div id="new-vis-container-4">
        <!-- Content for new visualization 4 goes here -->
      </div>
    </div>
  </div>
</body>
</html>